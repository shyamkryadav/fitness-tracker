<div class="bg-gradient-to-br from-[#0f172a] to-[#0c1222] dark:from-[#0f172a] dark:to-[#0c1222] rounded-2xl shadow-2xl p-6 transition-all duration-300 border border-[#1e293b]/50 dark:border-[#1e293b]/50 hover:shadow-orange-500/10 relative overflow-hidden">
  <!-- Decorative background elements -->
  <div class="absolute top-0 right-0 w-64 h-64 bg-orange-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
  <div class="absolute bottom-0 left-0 w-64 h-64 bg-red-500/5 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"></div>

  <div class="flex justify-between items-center mb-8 relative z-10">
    <div class="flex items-center">
      <h3 class="text-2xl font-extrabold text-white bg-clip-text text-transparent bg-gradient-to-r from-white to-orange-100">Calorie Balance</h3>
      <div class="ml-3 px-3 py-1 bg-gradient-to-r from-orange-600 to-orange-500 rounded-full shadow-lg shadow-orange-600/20">
        <span class="text-xs font-semibold text-white">Today</span>
      </div>
    </div>
    <div class="w-10 h-10 flex items-center justify-center rounded-full bg-gradient-to-br from-orange-600 to-orange-500 shadow-lg shadow-orange-600/20 hover:scale-110 transition-transform duration-300 cursor-pointer">
      <span class="text-xl">ðŸ”¥</span>
    </div>
  </div>

  <div class="grid grid-cols-3 gap-4 mb-8 relative z-10">
    <div class="bg-gradient-to-br from-[#1e293b]/80 to-[#0f172a]/80 rounded-xl p-4 border border-[#334155]/30 backdrop-blur-sm shadow-lg hover:shadow-red-500/5 transition-all duration-300 hover:-translate-y-1 group">
      <div class="flex flex-col items-center">
        <div class="w-10 h-10 rounded-full bg-red-100/10 flex items-center justify-center mb-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-500" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd" />
          </svg>
        </div>
        <span class="text-xs text-gray-400 uppercase tracking-wider mb-1 group-hover:text-red-300 transition-colors duration-300">Consumed</span>
        <span class="text-xl font-bold text-red-500 group-hover:text-red-400 transition-colors duration-300">{{ caloriesConsumed }}</span>
      </div>
    </div>

    <div class="bg-gradient-to-br from-[#1e293b]/80 to-[#0f172a]/80 rounded-xl p-4 border border-[#334155]/30 backdrop-blur-sm shadow-lg hover:shadow-green-500/5 transition-all duration-300 hover:-translate-y-1 group">
      <div class="flex flex-col items-center">
        <div class="w-10 h-10 rounded-full bg-green-100/10 flex items-center justify-center mb-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z" clip-rule="evenodd" />
          </svg>
        </div>
        <span class="text-xs text-gray-400 uppercase tracking-wider mb-1 group-hover:text-green-300 transition-colors duration-300">Burned</span>
        <span class="text-xl font-bold text-green-500 group-hover:text-green-400 transition-colors duration-300">{{ caloriesBurned }}</span>
      </div>
    </div>

    <div class="bg-gradient-to-br from-[#1e293b]/80 to-[#0f172a]/80 rounded-xl p-4 border border-[#334155]/30 backdrop-blur-sm shadow-lg hover:shadow-blue-500/5 transition-all duration-300 hover:-translate-y-1 group">
      <div class="flex flex-col items-center">
        <div class="w-10 h-10 rounded-full bg-blue-100/10 flex items-center justify-center mb-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-500" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
          </svg>
        </div>
        <span class="text-xs text-gray-400 uppercase tracking-wider mb-1 group-hover:text-blue-300 transition-colors duration-300">Net</span>
        <span class="text-xl font-bold text-blue-500 group-hover:text-blue-400 transition-colors duration-300">{{ netCalories }}</span>
      </div>
    </div>
  </div>

  <div class="mb-6 relative z-10">
    <div class="flex justify-between items-center mb-2">
      <span class="text-sm font-medium text-gray-400">Daily Progress</span>
      <span class="text-sm font-medium text-gray-400">{{ progressPercentage.toFixed(0) }}%</span>
    </div>
    <div class="h-3 bg-[#1e293b]/80 rounded-full overflow-hidden backdrop-blur-sm border border-[#334155]/30 shadow-[inset_0_1px_2px_rgba(0,0,0,0.3)]">
      <!-- Progress bar with gradient and glow effect -->
      <div class="h-full bg-gradient-to-r from-orange-600 via-orange-500 to-orange-600 rounded-full transition-all duration-1000 ease-out shadow-[0_0_15px_rgba(249,115,22,0.7)]"
           [style.width.%]="progressPercentage">
        <!-- Animated shine effect -->
        <div class="absolute top-0 left-0 w-20 h-full bg-white opacity-30 transform -skew-x-30 animate-shine"></div>
      </div>

      <!-- Progress markers -->
      <div class="absolute inset-0 flex justify-between px-1">
        <div *ngFor="let marker of [0, 25, 50, 75, 100]"
             class="w-0.5 h-1.5 bg-gray-600/50 mt-0.75"
             [class.bg-white]="progressPercentage >= marker"
             [class.h-full]="marker === 0 || marker === 100"></div>
      </div>
    </div>
    <div class="flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1">
      <span>0</span>
      <span>{{ calorieGoal }}</span>
    </div>
  </div>

  <div class="bg-gradient-to-br from-[#1e293b]/80 to-[#0f172a]/80 rounded-xl p-5 border border-[#334155]/30 backdrop-blur-sm shadow-lg mb-6 relative z-10 overflow-hidden group hover:shadow-orange-500/10 transition-all duration-300">
    <!-- Decorative circle -->
    <div class="absolute -right-8 -bottom-8 w-24 h-24 rounded-full bg-orange-500/5 blur-xl group-hover:bg-orange-500/10 transition-colors duration-300"></div>

    <div class="flex items-center justify-between relative z-10">
      <div>
        <span class="text-xs text-gray-400 uppercase tracking-wider block mb-1">Remaining Today</span>
        <span class="text-3xl font-extrabold" [ngClass]="{'text-green-500': caloriesRemaining > 0, 'text-red-500': caloriesRemaining <= 0}">
          {{ caloriesRemaining > 0 ? caloriesRemaining : 0 }}
        </span>
        <span class="text-gray-400 text-sm ml-1">calories</span>
      </div>

      <div class="w-16 h-16 rounded-full flex items-center justify-center" [ngClass]="{'bg-green-500/10': caloriesRemaining > 0, 'bg-red-500/10': caloriesRemaining <= 0}">
        <svg *ngIf="caloriesRemaining > 0" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-500" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
        </svg>
        <svg *ngIf="caloriesRemaining <= 0" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-500" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
        </svg>
      </div>
    </div>
  </div>

  <div class="text-center relative z-10">
    <div *ngIf="netCalories <= calorieGoal" class="text-green-400 font-semibold bg-green-500/10 px-4 py-2 rounded-full inline-flex items-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
      </svg>
      You're on track with your calorie goal!
    </div>
    <div *ngIf="netCalories > calorieGoal" class="text-red-400 font-semibold bg-red-500/10 px-4 py-2 rounded-full inline-flex items-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
      </svg>
      You've exceeded your calorie goal by {{ netCalories - calorieGoal }}
    </div>
  </div>
</div>
